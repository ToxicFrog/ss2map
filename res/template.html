<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="UTF-8">
    <title>System Shock 2 Map Viewer</title>
    <style>
      body {
        margin: 0px;
        padding: 0px;
        height: 100vh;
      }
      .search-result {
        cursor: pointer;
      }
      .search-result:hover {
        color: #FF00FF;
      }
      div#map {
        /* position: absolute; */
        margin: 0;
        border: 0;
        padding: 0;
        width: 100%;
        height: 100%;
      }
      div#map img {
        width: 100%;
        height: 100%;
      }
      td#mapcell {
        height: 100%;
        width: 50%;
      }
    </style>
    <script>
      var DEFAULT = ${DEFAULT_LEVEL}
      var levels = {${ALL_LEVELS}}
      var SCALE = 16  // Pixels per map tile
    </script>
    <script src="./kinetic.js"></script>
    <script src="./render.js"></script>
    <script src="./ui.js"></script>
    <script src="./init.js"></script>
  </head>
  <body bgcolor="#202020" text="#B0B0B0">
    <table width="100%" height="100%" style="table-layout: fixed">
      <tr>
        <td width="25%" valign="top"><!-- Left sidebar -->

          <select id="levelselect" onchange="changeLevel();" value="0">
            ${LEVEL_SELECT}
          </select>
          <hr>
          <!--
          <div id="layercontrols">
            <label><input type="checkbox" checked="true" onchange="updateLayers();">0 - Weapons</label><br>
            <label><input type="checkbox"                onchange="updateLayers();">1 - Ammo</label><br>
            <label><input type="checkbox"                onchange="updateLayers();">2 - Projectiles</label><br>
            <label><input type="checkbox" checked="true" onchange="updateLayers();">3 - Explosives</label><br>
            <label><input type="checkbox"                onchange="updateLayers();">4 - Dermal Patches</label><br>
            <label><input type="checkbox" checked="true" onchange="updateLayers();">5 - Implants</label><br>
            <label><input type="checkbox" checked="true" onchange="updateLayers();">6 - Software</label><br>
            <label><input type="checkbox"                onchange="updateLayers();">7 - Fixtures</label><br>
            <label><input type="checkbox"                onchange="updateLayers();">8 - Items</label><br>
            <label><input type="checkbox"                onchange="updateLayers();">9 - Switches and Panels</label><br>
            <label><input type="checkbox" checked="true" onchange="updateLayers();">10 - Doors and Gratings</label><br>
            <label><input type="checkbox"                onchange="updateLayers();">11 - Animations</label><br>
            <label><input type="checkbox"                onchange="updateLayers();">12 - Traps and Triggers</label><br>
            <label><input type="checkbox" checked="true" onchange="updateLayers();">13 - Containers</label><br>
            <label><input type="checkbox"                onchange="updateLayers();">14 - Critters</label><br>
          </div>
          <div style="text-align: center;">
            <button onclick="showAllLayers(false);">Hide All</button>
            <button onclick="showAllLayers(true);">Show All</button>
          </div>
-->
          <hr>
          <div id="info" style="height: 100%;"></div>

          <div style="position: fixed; bottom: 0;">
            Generated by <a href="https://github.com/toxicfrog/ss2map/">ss2map</a>
          </div>

        </td>
        <td id="mapcell"><!-- Central map -->
          <!-- <div id="map"><img src="./loading.png" width="1024px" height="1024px"></div> -->
          <div id="map"><img src="./loading.png"></div>
        </td>
        <td width="25%" valign="top"><!-- Right sidebar -->
          <form onsubmit="return false;">
            <input type="text" id="search-text" style="width: 95%;"><br>
            <button type="reset" onclick="clearSearch();">Clear Results</button>
            <button type="submit" onclick="performSearch(false);">Search Level</button>
            <button type="button" onclick="performSearch(true);">Search All</button>
          </form>
          <hr>
          <table id="search-results">
            <tr>
              <th>Lv</th>
              <th style="text-align: left">Name</th>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>
